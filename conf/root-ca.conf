[ default ]
cadir                  = tmp
caname                 = root-ca
base_url               = http://testca.pythontest.net/ca

[ req ]
default_bits           = 2048
encrypt_key            = no
default_md             = sha256
utf8                   = yes
string_mask            = utf8only
prompt                 = no
distinguished_name     = ca_dn

[ ca_dn ]
countryName            = XZ
organizationName       = "Castle Anthrax"
organizationalUnitName = "Python Software Foundation"
commonName             = "Python Test Root CA"

[ ca_ext ]
keyUsage               = critical,keyCertSign,cRLSign
basicConstraints       = critical,CA:true
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always,issuer:always
authorityInfoAccess    = @issuer_info

[ ca ]
default_ca             = ca_config

[ ca_config ]
certificate            = $cadir/$caname/ca.crt
private_key            = $cadir/$caname/ca.key
new_certs_dir          = $cadir/$caname/certs
serial                 = $cadir/$caname/ca.srl
crlnumber              = $cadir/$caname/crl.srl
database               = $cadir/$caname/index.db
unique_subject         = no
default_days           = 3652
default_md             = sha256
name_opt               = ca_default
cert_opt               = ca_default
policy                 = policy_any
email_in_dn            = no
copy_extensions        = copy
default_crl_days       = 3652
crl_extensions         = crl_ext

[ policy_any ]
countryName            = optional
stateOrProvinceName    = optional
organizationName       = optional
organizationalUnitName = optional
commonName             = optional
emailAddress           = optional

[ crl_ext ]
authorityKeyIdentifier = keyid:always
authorityInfoAccess    = @issuer_info

[ issuer_info ]
caIssuers;URI.0        = $base_url/$caname.cer
